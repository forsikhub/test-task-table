{"version":3,"sources":["components/table/Table.module.css","components/UI/MySelect.module.css","components/UI/MyInput.module.css","components/personInfo/PersonInfo.module.css","components/UI/MyLoader.module.css","API/PersonsService.js","components/table/Table.jsx","components/UI/MySelect.jsx","components/UI/MyInput.jsx","components/personInfo/PersonInfo.jsx","hooks/useFetching.jsx","components/UI/MyLoader.jsx","App.js","index.js"],"names":["module","exports","PersonsService","axios","get","response","data","Table","persons","sortCallBack","personInfoCallBack","useState","id","firstName","lastName","email","phone","state","isAscending","setIsAscending","sort","e","target","currentTarget","attributes","value","prevState","border","className","classes","table","Tr","onClick","src","map","person","adress","MySelect","options","defaultValue","onChange","event","disabled","option","MyInput","props","PersonInfo","personInfo","container","description","streetAddress","city","MyLoader","App","setPersons","setPersonInfo","selectedState","setSelectedState","searchByName","setSearchByName","callback","isLoading","setIsLoading","error","setError","fetching","a","message","useFetching","getAllPersons","fetchPersons","isPostLoading","personError","useEffect","filterByStateAndName","useMemo","filter","toLowerCase","includes","placeholder","length","style","display","justifyContent","sortIsAscending","b","localeCompare","forEach","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bf1472eb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"Table_table__G8MZe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MySelect\":\"MySelect_MySelect__ZIsAQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MyInput\":\"MyInput_MyInput__1qI6c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PersonInfo_container__iw6i1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MyLoader\":\"MyLoader_MyLoader__342As\",\"rotate\":\"MyLoader_rotate__3AV7K\"};","import axios from 'axios';\r\n\r\nexport default class PersonsService{\r\n    static async getAllPersons(){\r\n        const response = await axios.get('https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json')\r\n        return response.data\r\n    }\r\n}","import React,{useState} from 'react';\r\nimport classes from './Table.module.css'\r\nexport default function Table({ persons, sortCallBack, personInfoCallBack}) {\r\n     const [isAscending, setIsAscending] = useState({\r\n        id:true,\r\n        firstName: true,\r\n        lastName: true,\r\n        email: true,\r\n        phone: true,\r\n        state: true,\r\n    })  \r\n   const sort=(e)=>{\r\n    const target = e.currentTarget.attributes.value.value\r\n    sortCallBack(target, isAscending[target])\r\n    setIsAscending(prevState => ({\r\n        ...prevState,\r\n        [target]: !isAscending[target]\r\n    }))\r\n}\r\n  return (\r\n    <table border=\"1\" className={classes.table}>\r\n      <tr className={classes.Tr}>\r\n        <th value={\"id\"} onClick={(e)=>sort(e) }>ID {isAscending.id ? <img src=\"/svg/arrow-down.svg\"/> : <img  src=\"/svg/arrow-up.svg\"/>}</th>\r\n        <th value={\"firstName\"} onClick={(e)=>sort(e)}>First Name {isAscending.firstName ? <img src=\"/svg/arrow-down.svg\"/> : <img  src=\"/svg/arrow-up.svg\"/>}</th>\r\n        <th value={\"lastName\"} onClick={(e)=>sort(e)}>Last name {isAscending.lastName ? <img src=\"/svg/arrow-down.svg\"/> : <img  src=\"/svg/arrow-up.svg\"/>}</th>\r\n        <th value={\"email\"} onClick={(e)=>sort(e)}>Email {isAscending.email ? <img src=\"/svg/arrow-down.svg\"/> : <img  src=\"/svg/arrow-up.svg\"/>}</th>\r\n        <th value={\"phone\"} onClick={(e)=>sort(e)}>Phone {isAscending.phone ? <img src=\"/svg/arrow-down.svg\"/> : <img  src=\"/svg/arrow-up.svg\"/>}</th>\r\n        <th value={\"state\"} onClick={(e)=>sort(e)}>State {isAscending.state ? <img src=\"/svg/arrow-down.svg\"/> : <img  src=\"/svg/arrow-up.svg\"/>}</th>\r\n      </tr>\r\n      \r\n        {persons.map((person) => (\r\n        <tr key={person.phone} onClick={()=>personInfoCallBack(person.phone)}>\r\n          <td>{person.id}</td>\r\n          <td>{person.firstName}</td>\r\n          <td>{person.lastName}</td>\r\n          <td>{person.email}</td>\r\n          <td>{person.phone}</td>\r\n          <td>{person.adress.state}</td>\r\n        </tr>\r\n        ))}\r\n      \r\n    </table>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport classes from './MySelect.module.css'\r\nexport default function MySelect({options, defaultValue, value, onChange}) {\r\n    return (\r\n        <select \r\n            className={classes.MySelect}\r\n            value = {value}\r\n            onChange={event=>onChange(event.target.value)}\r\n        >\r\n            <option disabled value = \"\">{defaultValue}</option>\r\n            {options.map(option=>\r\n                <option key = {option.state} value = {option.state}>\r\n                    {option.state}\r\n                </option>\r\n                )}\r\n        </select>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport classes from './MyInput.module.css'\r\nexport default function MyInput(props) {\r\n    return (\r\n        <input className={classes.MyInput}{...props}/>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport classes from './PersonInfo.module.css'\r\nexport default function PersonInfo({personInfo}) {\r\n    return (\r\n        <div className = {classes.container}>\r\n                <div>Profile info:</div>\r\n                <div>Selected profile: {personInfo.firstName + ' ' + personInfo.lastName}</div>\r\n                <div>Descripton profile: {personInfo.description}</div>\r\n                <div>Adress: {personInfo?.adress?.streetAddress}</div>\r\n                <div>City: {personInfo?.adress?.city}</div>\r\n                <div>State: {personInfo?.adress?.state}</div>\r\n                <div>Index: {personInfo.description}</div>\r\n        </div>\r\n    )\r\n}\r\n","import {useState} from \"react\";\r\n\r\nexport const useFetching = (callback) => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    const fetching = async (...args) => {\r\n        try {\r\n            setIsLoading(true)\r\n            await callback(...args)\r\n        } catch (e) {\r\n            setError(e.message);\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    return [fetching, isLoading, error]\r\n}","import React from 'react'\r\nimport classes from './MyLoader.module.css';\r\nexport default function MyLoader() {\r\n    return (\r\n        <div className={classes.MyLoader}>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect, useMemo } from 'react';\nimport './App.css';\nimport PersonsService from './API/PersonsService';\nimport Table from './components/table/Table';\nimport MySelect from './components/UI/MySelect';\nimport MyInput from './components/UI/MyInput';\nimport PersonInfo from './components/personInfo/PersonInfo';\nimport { useFetching } from './hooks/useFetching';\nimport MyLoader from './components/UI/MyLoader';\nfunction App() {\n  const [persons, setPersons] = useState([]);\n  const [personInfo, setPersonInfo] = useState([]);\n  const [selectedState, setSelectedState] = useState('all states');\n  const [searchByName, setSearchByName] = useState('');\n  const [fetchPersons, isPostLoading, personError] = useFetching(async () => {\n    const persons = await PersonsService.getAllPersons();\n    setPersons(persons);\n  });\n\n  useEffect(() => {\n    fetchPersons();\n  }, []);\n  const sortPersons = (event, sortIsAscending) => {\n    if (event === 'state') {\n      sortIsAscending\n        ? setPersons(\n            [...persons].sort((a, b) => a['adress'][event].localeCompare(b['adress'][event])),\n          )\n        : setPersons(\n            [...persons].sort((a, b) => b['adress'][event].localeCompare(a['adress'][event])),\n          );\n    } else if (event === 'id') {\n      sortIsAscending\n        ? setPersons([...persons].sort((a, b) => a[event] - b[event]))\n        : setPersons([...persons].sort((a, b) => b[event] - a[event]));\n    } else {\n      sortIsAscending\n        ? setPersons([...persons].sort((a, b) => a[event].localeCompare(b[event])))\n        : setPersons([...persons].sort((a, b) => b[event].localeCompare(a[event])));\n    }\n  };\n  //////\n  const getPersonInfo = (phone) => {\n    persons.forEach((person) => {\n      if (person.phone === phone) {\n        setPersonInfo(person);\n        console.log(personInfo);\n      }\n    });\n  };\n\n  //////\n\n  const filterByStateAndName = useMemo(() => {\n    if (selectedState === 'all states')\n      return persons.filter((person) =>\n        person['firstName'].toLowerCase().includes(searchByName.toLowerCase()),\n      );\n\n    return persons.filter(\n      (person) =>\n        person['adress']['state'] === selectedState &&\n        person['firstName'].toLowerCase().includes(searchByName.toLowerCase()),\n    );\n  }, [persons, selectedState, searchByName]);\n\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <div className=\"container__utils\">\n          <div>\n            <MyInput\n              value={searchByName}\n              placeholder={'Search by name:'}\n              onChange={(e) => setSearchByName(e.target.value)}\n            />\n          </div>\n          <div>{personInfo.length !== 0 ? <PersonInfo personInfo={personInfo} /> : ''}</div>\n          <div>\n            <MySelect\n              value={selectedState}\n              onChange={(state) => setSelectedState(state)}\n              defaultValue=\"Filter by state\"\n              options={[\n                { state: 'all states' },\n                { state: 'WI' },\n                { state: 'TN' },\n                { state: 'FL' },\n                { state: 'NE' },\n              ]}\n            />\n          </div>\n        </div>\n        <div>\n          {personError && <div>Ошибка {personError}</div>}\n\n          {!isPostLoading ? (\n            <Table\n              sortCallBack={sortPersons}\n              personInfoCallBack={getPersonInfo}\n              persons={filterByStateAndName}\n            />\n          ) : (\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\n              <MyLoader />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}