(this["webpackJsonpitrex-test-task"]=this["webpackJsonpitrex-test-task"]||[]).push([[0],{13:function(e,t,n){e.exports={table:"Table_table__G8MZe"}},26:function(e,t,n){e.exports={MySelect:"MySelect_MySelect__ZIsAQ"}},27:function(e,t,n){e.exports={MyInput:"MyInput_MyInput__1qI6c"}},28:function(e,t,n){e.exports={container:"PersonInfo_container__iw6i1"}},29:function(e,t,n){e.exports={MyLoader:"MyLoader_MyLoader__342As",rotate:"MyLoader_rotate__3AV7K"}},34:function(e,t,n){},36:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(22),a=n.n(c),i=(n(34),n(5)),o=n(4),l=n.n(o),u=n(6),j=n(3),d=(n(36),n(23)),b=n(24),v=n(25),O=n.n(v),f=function(){function e(){Object(d.a)(this,e)}return Object(b.a)(e,null,[{key:"getAllPersons",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),p=n(10),x=n(8),h=n(13),m=n.n(h),g=n(0);function w(e){var t=e.persons,n=e.sortCallBack,s=e.personInfoCallBack,c=Object(r.useState)({id:!0,firstName:!0,lastName:!0,email:!0,phone:!0,state:!0}),a=Object(j.a)(c,2),i=a[0],o=a[1],l=function(e){var t=e.currentTarget.attributes.value.value;n(t,i[t]),o((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(p.a)({},t,!i[t]))}))};return Object(g.jsxs)("table",{border:"1",className:m.a.table,children:[Object(g.jsxs)("tr",{className:m.a.Tr,children:[Object(g.jsxs)("th",{value:"id",onClick:function(e){return l(e)},children:["ID ",i.id?Object(g.jsx)("img",{src:"./svg/arrow-down.svg"}):Object(g.jsx)("img",{src:"./svg/arrow-up.svg"})]}),Object(g.jsxs)("th",{value:"firstName",onClick:function(e){return l(e)},children:["First Name ",i.firstName?Object(g.jsx)("img",{src:"./svg/arrow-down.svg"}):Object(g.jsx)("img",{src:"./svg/arrow-up.svg"})]}),Object(g.jsxs)("th",{value:"lastName",onClick:function(e){return l(e)},children:["Last name ",i.lastName?Object(g.jsx)("img",{src:"./svg/arrow-down.svg"}):Object(g.jsx)("img",{src:"./svg/arrow-up.svg"})]}),Object(g.jsxs)("th",{value:"email",onClick:function(e){return l(e)},children:["Email ",i.email?Object(g.jsx)("img",{src:"./svg/arrow-down.svg"}):Object(g.jsx)("img",{src:"./svg/arrow-up.svg"})]}),Object(g.jsxs)("th",{value:"phone",onClick:function(e){return l(e)},children:["Phone ",i.phone?Object(g.jsx)("img",{src:"./svg/arrow-down.svg"}):Object(g.jsx)("img",{src:"./svg/arrow-up.svg"})]}),Object(g.jsxs)("th",{value:"state",onClick:function(e){return l(e)},children:["State ",i.state?Object(g.jsx)("img",{src:"./svg/arrow-down.svg"}):Object(g.jsx)("img",{src:"./svg/arrow-up.svg"})]})]}),t.map((function(e){return Object(g.jsxs)("tr",{onClick:function(){return s(e.phone)},children:[Object(g.jsx)("td",{children:e.id}),Object(g.jsx)("td",{children:e.firstName}),Object(g.jsx)("td",{children:e.lastName}),Object(g.jsx)("td",{children:e.email}),Object(g.jsx)("td",{children:e.phone}),Object(g.jsx)("td",{children:e.adress.state})]},e.phone)}))]})}var y=n(26),C=n.n(y);function N(e){var t=e.options,n=e.defaultValue,r=e.value,s=e.onChange;return Object(g.jsxs)("select",{className:C.a.MySelect,value:r,onChange:function(e){return s(e.target.value)},children:[Object(g.jsx)("option",{disabled:!0,value:"",children:n}),t.map((function(e){return Object(g.jsx)("option",{value:e.state,children:e.state},e.state)}))]})}var k=n(27),_=n.n(k);function M(e){return Object(g.jsx)("input",Object(x.a)({className:_.a.MyInput},e))}var S=n(28),I=n.n(S);function L(e){var t,n,r,s=e.personInfo;return Object(g.jsxs)("div",{className:I.a.container,children:[Object(g.jsx)("div",{children:"Profile info:"}),Object(g.jsxs)("div",{children:["Selected profile: ",s.firstName+" "+s.lastName]}),Object(g.jsxs)("div",{children:["Descripton profile: ",s.description]}),Object(g.jsxs)("div",{children:["Adress: ",null===s||void 0===s||null===(t=s.adress)||void 0===t?void 0:t.streetAddress]}),Object(g.jsxs)("div",{children:["City: ",null===s||void 0===s||null===(n=s.adress)||void 0===n?void 0:n.city]}),Object(g.jsxs)("div",{children:["State: ",null===s||void 0===s||null===(r=s.adress)||void 0===r?void 0:r.state]}),Object(g.jsxs)("div",{children:["Index: ",s.description]})]})}var A=n(29),B=n.n(A);function E(){return Object(g.jsx)("div",{className:B.a.MyLoader})}var P=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)([]),a=Object(j.a)(c,2),o=a[0],d=a[1],b=Object(r.useState)("all states"),v=Object(j.a)(b,2),O=v[0],p=v[1],x=Object(r.useState)(""),h=Object(j.a)(x,2),m=h[0],y=h[1],C=function(e){var t=Object(r.useState)(!1),n=Object(j.a)(t,2),s=n[0],c=n[1],a=Object(r.useState)(""),i=Object(j.a)(a,2),o=i[0],d=i[1],b=function(){var t=Object(u.a)(l.a.mark((function t(){var n=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(!0),t.next=4,e.apply(void 0,n);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),d(t.t0.message);case 9:return t.prev=9,c(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return[b,s,o]}(Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getAllPersons();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})))),k=Object(j.a)(C,3),_=k[0],S=k[1],I=k[2];Object(r.useEffect)((function(){_()}),[]);var A=Object(r.useMemo)((function(){return"all states"===O?n.filter((function(e){return e.firstName.toLowerCase().includes(m.toLowerCase())})):n.filter((function(e){return e.adress.state===O&&e.firstName.toLowerCase().includes(m.toLowerCase())}))}),[n,O,m]);return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)("div",{className:"container",children:[Object(g.jsxs)("div",{className:"container__utils",children:[Object(g.jsx)("div",{children:Object(g.jsx)(M,{value:m,placeholder:"Search by name:",onChange:function(e){return y(e.target.value)}})}),Object(g.jsx)("div",{children:0!==o.length?Object(g.jsx)(L,{personInfo:o}):""}),Object(g.jsx)("div",{children:Object(g.jsx)(N,{value:O,onChange:function(e){return p(e)},defaultValue:"Filter by state",options:[{state:"all states"},{state:"WI"},{state:"TN"},{state:"FL"},{state:"NE"}]})})]}),Object(g.jsxs)("div",{children:[I&&Object(g.jsxs)("div",{children:["\u041e\u0448\u0438\u0431\u043a\u0430 ",I]}),S?Object(g.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(g.jsx)(E,{})}):Object(g.jsx)(w,{sortCallBack:function(e,t){s("state"===e?t?Object(i.a)(n).sort((function(t,n){return t.adress[e].localeCompare(n.adress[e])})):Object(i.a)(n).sort((function(t,n){return n.adress[e].localeCompare(t.adress[e])})):"id"===e?t?Object(i.a)(n).sort((function(t,n){return t[e]-n[e]})):Object(i.a)(n).sort((function(t,n){return n[e]-t[e]})):t?Object(i.a)(n).sort((function(t,n){return t[e].localeCompare(n[e])})):Object(i.a)(n).sort((function(t,n){return n[e].localeCompare(t[e])})))},personInfoCallBack:function(e){n.forEach((function(t){t.phone===e&&(d(t),console.log(o))}))},persons:A})]})]})})};a.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(P,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.bf1472eb.chunk.js.map
